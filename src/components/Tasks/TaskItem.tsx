import { FC } from 'react';

import { Todo } from '../../redux/types';

interface TaskItemProps {
  todo: Todo;
  deleteTask: (id: number) => void;
  onEditTask: (todo: Todo) => void;
  onEditMenu: (todo: Todo) => void;
}

export const TaskItem: FC<TaskItemProps> = ({ deleteTask, todo, onEditTask, onEditMenu }) => {
  const handleDelete = () => {
    todo.id && deleteTask(todo.id);
  };

  const handleEdit = () => {
    onEditTask({ ...todo, completed: !todo.completed });
  };

  const handleOnEditMenu = () => {
    onEditMenu(todo);
  };

  return (
    <div className={`task__list-item  ${todo.completed ? 'task__list-item--completed' : ''}`}>
      <div className="task__list-item-flex">
        <div className="task__list-item-check">
          <input onChange={handleEdit} type="checkbox" checked={todo.completed} />
        </div>
      </div>
      <div onClick={handleOnEditMenu} className="task__list-item-text">
        <p>{todo.text}</p>
      </div>
      <div className="task__list-item-date">
        Время создания: <span>{todo.date}</span>
      </div>
      <div onClick={handleDelete} className="task__list-item-remove">
        <svg
          width="30"
          height="30"
          viewBox="0 0 30 30"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M20 2.1875V3.75H26.5625C26.8111 3.75 27.0496 3.84877 27.2254 4.02459C27.4012 4.2004 27.5 4.43886 27.5 4.6875C27.5 4.93614 27.4012 5.1746 27.2254 5.35041C27.0496 5.52623 26.8111 5.625 26.5625 5.625H3.4375C3.18886 5.625 2.9504 5.52623 2.77459 5.35041C2.59877 5.1746 2.5 4.93614 2.5 4.6875C2.5 4.43886 2.59877 4.2004 2.77459 4.02459C2.9504 3.84877 3.18886 3.75 3.4375 3.75H10V2.1875C10 0.98 10.98 0 12.1875 0H17.8125C19.02 0 20 0.98 20 2.1875ZM11.875 2.1875C11.875 2.10462 11.9079 2.02513 11.9665 1.96653C12.0251 1.90792 12.1046 1.875 12.1875 1.875H17.8125C17.8954 1.875 17.9749 1.90792 18.0335 1.96653C18.0921 2.02513 18.125 2.10462 18.125 2.1875V3.75H11.875V2.1875Z"
            fill="black"
            fillOpacity="0.5"
          />
          <path
            d="M6.24625 7.7225C6.23556 7.59907 6.20051 7.47899 6.14314 7.36919C6.08576 7.2594 6.0072 7.16206 5.91198 7.0828C5.81676 7.00355 5.70678 6.94396 5.58839 6.90747C5.47 6.87098 5.34555 6.85831 5.22224 6.87021C5.09892 6.8821 4.97919 6.91832 4.86996 6.97676C4.76073 7.03521 4.66416 7.11472 4.58584 7.21071C4.50752 7.3067 4.44901 7.41726 4.41368 7.536C4.37834 7.65474 4.3669 7.77931 4.38 7.9025L6.145 26.15C6.19779 26.6909 6.45001 27.1927 6.85253 27.5578C7.25506 27.9229 7.77906 28.1251 8.3225 28.125H21.6775C22.2211 28.1251 22.7453 27.9227 23.1478 27.5573C23.5504 27.192 23.8025 26.6898 23.855 26.1487L25.6212 7.9025C25.6451 7.65485 25.5696 7.40787 25.4114 7.21588C25.2532 7.02389 25.0251 6.90262 24.7775 6.87875C24.5299 6.85488 24.2829 6.93036 24.0909 7.0886C23.8989 7.24683 23.7776 7.47485 23.7537 7.7225L21.9887 25.9675C21.9813 26.0449 21.9453 26.1167 21.8877 26.1689C21.8302 26.2211 21.7552 26.25 21.6775 26.25H8.3225C8.24478 26.25 8.16983 26.2211 8.11228 26.1689C8.05473 26.1167 8.01871 26.0449 8.01125 25.9675L6.24625 7.7225Z"
            fill="black"
            fillOpacity="0.5"
          />
          <path
            d="M11.5075 9.37625C11.6305 9.36898 11.7537 9.38601 11.87 9.42637C11.9864 9.46673 12.0937 9.52962 12.1857 9.61147C12.2778 9.69331 12.3528 9.79248 12.4065 9.90333C12.4602 10.0142 12.4916 10.1345 12.4988 10.2575L13.1238 20.8825C13.1383 21.131 13.0536 21.3751 12.8882 21.5611C12.7229 21.7471 12.4904 21.8598 12.2419 21.8744C11.9934 21.889 11.7493 21.8042 11.5633 21.6389C11.3773 21.4735 11.2646 21.241 11.25 20.9925L10.625 10.3675C10.6177 10.2445 10.6348 10.1213 10.6751 10.005C10.7155 9.8886 10.7784 9.78132 10.8602 9.68926C10.9421 9.5972 11.0412 9.52218 11.1521 9.46847C11.2629 9.41476 11.3833 9.38342 11.5063 9.37625H11.5075ZM19.3738 10.3675C19.3883 10.119 19.3036 9.87493 19.1382 9.68892C18.9729 9.50291 18.7404 9.39021 18.4919 9.37562C18.2434 9.36104 17.9993 9.44575 17.8133 9.61114C17.6273 9.77652 17.5146 10.009 17.5 10.2575L16.875 20.8825C16.8604 21.1308 16.9451 21.3747 17.1103 21.5606C17.2756 21.7465 17.5079 21.8592 17.7563 21.8737C18.0046 21.8883 18.2485 21.8037 18.4344 21.6384C18.6203 21.4732 18.7329 21.2408 18.7475 20.9925L19.3725 10.3675H19.3738Z"
            fill="black"
            fillOpacity="0.5"
          />
        </svg>
      </div>
    </div>
  );
};
